<template>
    <div class="slds-card">
        <div class="slds-form-element">
            <div class="slds-form-element__control">
                <div>
                    <lightning-input
                    label={inputLabel}
                    onchange={doSearch}
                    onfocus={showPickListOptions}
                    onblur={hidePickListOptions}
                    type="search"
                    required={isrequired}
                    placeholder={placeHolderLabel}
                    value={selectedValue}>
                    </lightning-input>
                </div>

                <template lwc:if={showSearchResults}>
                    <div  class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid" role="listbox">
                        <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                            <template for:each={searchResults} for:item="searchResult">

                                <li key={searchResult.value} 
                                    data-value={searchResult.value} 
                                    role="presentation" 
                                    onmousedown={selectSearchResult} 
                                    class="slds-listbox__item">    
                                    <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="option">
                                        <span class="slds-media__body">
                                            <span class="slds-truncate" title={searchResult.label}>
                                                {searchResult.label}
                                            </span>
                                        </span>
                                    </div>
                                </li>

                            </template>
                        </ul>
                    </div> 
                </template>

            </div>
        </div>
    </div>
</template>